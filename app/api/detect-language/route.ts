import { type NextRequest, NextResponse } from "next/server"

// Simple language detection based on character patterns
function detectLanguage(text: string): string {
  const cleanText = text.toLowerCase().trim()

  // Arabic detection
  if (/[\u0600-\u06FF]/.test(text)) return "ar"

  // Chinese detection
  if (/[\u4e00-\u9fff]/.test(text)) return "zh"

  // Japanese detection (Hiragana, Katakana, Kanji)
  if (/[\u3040-\u309f\u30a0-\u30ff\u4e00-\u9fff]/.test(text)) return "ja"

  // Hindi detection
  if (/[\u0900-\u097F]/.test(text)) return "hi"

  // Urdu detection
  if (/[\u0600-\u06FF\u0750-\u077F]/.test(text)) return "ur"

  // Telugu detection
  if (/[\u0C00-\u0C7F]/.test(text)) return "te"

  // Tamil detection
  if (/[\u0B80-\u0BFF]/.test(text)) return "ta"

  // Russian detection
  if (/[\u0400-\u04FF]/.test(text)) return "ru"

  // Korean detection
  if (/[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F]/.test(text)) return "ko"

  // Thai detection
  if (/[\u0E00-\u0E7F]/.test(text)) return "th"

  // Vietnamese detection
  if (/[àáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷỹđ]/i.test(text)) return "vi"

  // European language detection based on common words
  const spanishWords = ["el", "la", "de", "que", "y", "en", "un", "es", "se", "no", "te", "lo", "le", "da", "su", "por", "son", "con", "para", "una", "del", "los", "las", "como", "pero", "sus", "fue", "ser", "han", "más", "está", "muy", "todo", "esta", "dos", "hasta", "desde", "cuando", "tiempo", "cada", "uno", "puede", "solo", "año", "sobre", "también", "después", "primer", "gobierno", "donde", "estado", "durante", "trabajo", "vida", "sin", "casa", "día", "agua", "parte", "hombre", "lugar", "forma", "caso", "mano", "país", "grupo", "momento", "manera", "hacer", "decir", "gran", "mundo", "aquí", "debe", "bajo", "tanto", "poco", "ahora", "algo", "bien", "saber", "mismo", "mejor", "nueva", "mucho", "antes", "entre", "poder", "medio", "contra", "mayor", "general", "menos", "según", "hacia", "dentro", "través", "último", "punto", "además", "social", "aunque", "siempre", "ejemplo", "política", "nunca", "historia", "mientras", "proceso", "realidad", "otros", "lado", "tipo", "sistema", "nivel", "orden", "desarrollo", "resultado", "razón", "relación", "fuerza", "programa", "problema", "control", "proyecto", "empresa", "servicio", "precio", "valor", "mercado", "cliente", "persona", "información", "número", "datos", "análisis", "estudio", "investigación", "universidad", "estudiante", "profesor", "educación", "escuela", "curso", "clase", "libro", "página", "texto", "palabra", "idioma", "cultura", "arte", "música", "película", "teatro", "deporte", "juego", "equipo", "jugador", "partido", "competencia", "victoria", "salud", "medicina", "doctor", "hospital", "tratamiento", "enfermedad", "paciente", "familia", "padre", "madre", "hijo", "hija", "hermano", "hermana", "amigo", "amor"]

  const frenchWords = ["le", "de", "et", "à", "un", "il", "être", "en", "avoir", "que", "pour", "dans", "ce", "son", "une", "sur", "avec", "ne", "se", "pas", "tout", "plus", "par", "grand", "quand", "même", "lui", "nous", "comme", "après", "sans", "deux", "très", "bien", "où", "maintenant", "ou", "ces", "mon", "homme", "jour", "temps", "main", "peu", "vie", "aller", "savoir", "prendre", "faire", "dire", "voir", "donner", "venir", "partir", "porter", "mettre", "tenir", "sembler", "laisser", "devenir", "croire", "paraître", "connaître", "passer", "rester", "tomber", "sortir", "entrer", "arriver", "mourir", "naître", "vivre", "aimer", "finir", "choisir", "réussir", "grandir", "remplir", "établir", "bâtir", "réfléchir", "agir", "réagir", "obéir", "désobéir", "punir", "guérir", "nourrir", "enrichir", "appauvrir", "vieillir", "rajeunir", "rougir", "pâlir", "jaunir", "verdir", "bleuir", "noircir", "blanchir", "brunir", "rosir", "grisir", "dorer", "argenter", "cuivrer", "bronzer", "rouiller", "ternir", "polir", "salir", "nettoyer", "laver", "sécher", "mouiller", "tremper", "imbiber", "absorber", "boire", "manger", "avaler", "croquer", "mâcher", "sucer", "lécher", "goûter", "sentir", "flairer", "renifler", "respirer", "souffler", "inspirer", "expirer", "haleter", "soupirer", "gémir", "pleurer", "sangloter", "rire", "sourire", "grimacer", "froncer", "plisser", "rider", "creuser", "approfondir", "élargir", "rétrécir", "allonger", "raccourcir", "étendre", "étirer", "tendre", "détendre", "relâcher", "serrer", "presser", "comprimer", "écraser", "broyer", "piler", "moudre", "râper", "hacher", "couper", "trancher", "découper", "tailler", "sculpter", "graver", "dessiner", "peindre", "colorier", "teindre", "décolorer", "éclaircir", "assombrir", "illuminer", "éclairer", "allumer", "éteindre", "brûler", "flamber", "incendier", "consumer", "dévorer", "engloutir", "absorber", "aspirer", "attirer", "repousser", "rejeter", "refuser", "accepter", "recevoir", "accueillir", "héberger", "loger", "abriter", "protéger", "défendre", "attaquer", "agresser", "menacer", "effrayer", "terroriser", "rassurer", "calmer", "apaiser", "tranquilliser", "inquiéter", "préoccuper", "troubler", "déranger", "gêner", "embêter", "ennuyer", "agacer", "irriter", "énerver", "exaspérer", "excéder", "fatiguer", "épuiser", "lasser",reposer", "détendre", "relaxer", "délasser", "distraire", "amuser", "divertir", "réjouir", "égayer", "attrister", "chagriner", "désoler", "affliger", "consoler", "réconforter", "encourager", \"décourager", \"motiver\", \"démotiver\", \"stimuler\", \"exciter\", \"passionner", \"enthousiasmer\", \"emballer\", \"refroidir", \"glacer\", \"réchauffer", \"chauffer", \"cuire\", "rôtir\", "griller", \"frire\", "bouillir", "mijoter", "confire", "mariner", "assaisonner", \"saler\", "sucrer", "épices", "parfumer", "embaumer\", "puer", "sentir", \"empester", \"infecter", \"contaminer", "polluer", "souiller", "tacher", "maculer", "barbouiller", "salir", "crotter", "noircir", "ternir", "oxyder", "rouiller", "corroder", "ronger", "user", "abîmer", "détériorer", "dégrader", "endommager", "casser", "briser", "fracasser", "éclater", "exploser", "péter", "craquer", "fendre", "fissurer", "percer", "trouer", "perforer", "transpercer", "traverser", "franchir", "dépasser", "surpasser", "dominer", "surmonter", "vaincre", "battre", "gagner", "remporter", "triompher", "réussir", "échouer", "rater", "manquer", "louper", "faillir", "trébucher", "chuter", "tomber"]

  const germanWords = ["der", "die", "und", "in", "den", "von", "zu", "das", "mit", "sich", "des", "auf", "für", "ist", "im", "dem", "nicht", "ein", "eine", "als", "auch", "es", "an", "werden", "aus", "er", "hat", "dass", "sie", "nach", "wird", "bei", "einer", "um", "am", "sind", "noch", "wie", "einem", "über", "einen", "so", "zum", "war", "haben", "nur", "oder", "aber", "vor", "zur", "bis", "mehr", "durch", "man", "sein", "wurde", "sei", "wenn", "schon", "wer", "machen", "können", "müssen", "sagen", "kommen", "sehen", "lassen", "stehen", "finden", "bleiben", "liegen", "halten", "nennen", "solch", "geben", "folgen", "während", "führen", "leben", "rechnen", "erreichen", "unterscheiden", "treffen", "warten", "erkennen", "entwickeln", "sprechen", "entstehen", "erhalten", "erklären", "erwarten", "erscheinen", "beginnen", "bestehen", "bestimmen", "bedeuten", "setzen", "bekommen", "betrachten", "verlassen", "verstehen", "versuchen", "darstellen", "erfinden", "schaffen", "wählen", "ziehen", "denken", "fühlen", "arbeiten", "spielen", "lernen", "lehren", "studieren", "lesen", "schreiben", "hören", "kaufen", "verkaufen", "fahren", "gehen", "laufen", "rennen", "springen", "fallen", "steigen", "sinken", "wachsen", "bauen", "zerstören", "reparieren", "öffnen", "schließen", "beginnen", "enden", "aufhören", "weitermachen", "helfen", "unterstützen", "lieben", "hassen", "mögen", "wollen", "brauchen", "müssen", "können", "dürfen", "sollen", "werden", "sein", "haben", "tun", "machen", "lassen", "bringen", "nehmen", "geben", "zeigen", "sehen", "schauen", "blicken", "beobachten", "betrachten", "ansehen", "aussehen", "scheinen", "erscheinen", "verschwinden", "kommen", "ankommen", "erreichen", "verlassen", "weggehen", "zurückkommen", "bleiben", "wohnen", "leben", "existieren", "sterben", "geboren", "jung", "alt", "neu", "frisch", "modern", "traditionell", "klassisch", "zeitgenössisch", "aktuell", "vergangen", "zukünftig", "ewig", "temporär", "dauerhaft", "vorübergehend", "kurz", "lang", "schnell", "langsam", "früh", "spät", "pünktlich", "verspätet", "rechtzeitig", "sofort", "bald", "später", "niemals", "immer", "manchmal", "oft", "selten", "häufig", "regelmäßig", "unregelmäßig", "täglich", "wöchentlich", "monatlich", "jährlich", "heute", "gestern", "morgen", "jetzt", "dann", "hier", "dort", "überall", "nirgendwo", "irgendwo", "links", "rechts", "oben", "unten", "vorne", "hinten", "innen", "außen", "drinnen", "draußen", "nah", "fern", "weit", "eng", "breit", "schmal", "dick", "dünn", "groß", "klein", "riesig", "winzig", "hoch", "niedrig", "tief", "oberflächlich", "schwer", "leicht", "stark", "schwach", "hart", "weich", "fest", "locker", "dicht", "lose", "voll", "leer", "ganz", "halb", "komplett", "unvollständig", "perfekt", "unvollkommen", "richtig", "falsch", "korrekt", "inkorrekt", "genau", "ungenau", "präzise", "unpräzise", "klar", "unklar", "deutlich", "undeutlich", "offensichtlich", "verborgen", "sichtbar", "unsichtbar", "hell", "dunkel", "leuchtend", "matt", "glänzend", "stumpf", "bunt", "farblos", "weiß", "schwarz", "grau", "rot", "blau", "grün", "gelb", "orange", "violett", "rosa", "braun", "golden", "silbern", "warm", "kalt", "heiß", "kühl", "frisch", "alt", "feucht", "trocken", "nass", "sauber", "schmutzig", "rein", "unrein", "gesund", "krank", "fit", "unfit", "müde", "wach", "schläfrig", "energisch", "träge", "aktiv", "passiv", "lebendig", "tot", "lebend", "verstorben", "geboren", "ungeboren", "real", "unwirklich", "wahr", "falsch", "echt", "unecht", "natürlich", "künstlich", "organisch", "anorganisch", "wild", "zahm", "frei", "gefangen", "unabhängig", "abhängig", "selbstständig", "unselbstständig", "autonom", "fremdbestimmt", "privat", "öffentlich", "persönlich", "unpersönlich", "individuell", "kollektiv", "einzeln", "gemeinsam", "allein", "zusammen", "einsam", "gesellig", "sozial", "antisozial", "freundlich", "unfreundlich", "nett", "gemein", "höflich", "unhöflich", "respektvoll", "respektlos", "ehrlich", "unehrlich", "aufrichtig", "unaufrichtig", "treu", "untreu", "loyal", "illoyal", "zuverlässig", "unzuverlässig", "vertrauenswürdig", "unvertrauenswürdig", "glaubwürdig", "unglaubwürdig", "ernst", "lustig", "komisch", "traurig", "fröhlich", "glücklich", "unglücklich", "zufrieden", "unzufrieden", "stolz", "beschämt", "mutig", "feige", "tapfer", "ängstlich", "furchtlos", "furchtsam", "ruhig", "unruhig", "gelassen", "nervös", "entspannt", "angespannt", "friedlich", "aggressiv", "sanft", "brutal", "mild", "streng", "nachsichtig", "unnachsichtig", "geduldig", "ungeduldig", "tolerant", "intolerant", "verständnisvoll", "verständnislos", "hilfsbereit", "egoistisch", "großzügig", "geizig", "sparsam", "verschwenderisch", "bescheiden", "arrogant",demütig", "hochmütig", "einfach", "kompliziert", "simpel", "komplex", "leicht", "schwer", "möglich", "unmöglich", "wahrscheinlich", "unwahrscheinlich", "sicher", "unsicher", "gewiss", "ungewiss", "bestimmt", "unbestimmt", "bekannt", "unbekannt", "vertraut", "fremd", "normal", "abnormal", "gewöhnlich", "ungewöhnlich", "üblich", "unüblich", "typisch", "untypisch", "charakteristisch", "uncharakteristisch", "besonders", "gewöhnlich", "außergewöhnlich", "durchschnittlich", "hervorragend", "mittelmäßig", "ausgezeichnet", "schlecht", "gut", "böse", "positiv", "negativ", "optimistisch", "pessimistisch", "hoffnungsvoll", "hoffnungslos", "erfolgreich", "erfolglos", "siegreich", "besiegt", "gewinnend", "verlierend", "führend", "folgend", "dominant", "unterwürfig", "mächtig", "machtlos", "einflussreich", "einflusslos", "wichtig", "unwichtig", "bedeutend", "unbedeutend", "relevant", "irrelevant", "wesentlich", "unwesentlich", "notwendig", "unnötig", "erforderlich", "überflüssig", "nützlich", "nutzlos", "hilfreich", "hinderlich", "förderlich", "schädlich", "vorteilhaft", "nachteilig", "günstig", "ungünstig", "praktisch", "unpraktisch", "brauchbar", "unbrauchbar", "verwendbar", "unverwendbar", "anwendbar", "unanwendbar", "geeignet", "ungeeignet", "passend", "unpassend", "angemessen", "unangemessen", "angebracht", "unangebracht", "berechtigt", "unberechtigt", "gerechtfertigt", "ungerechtfertigt", "fair", "unfair", "gerecht", "ungerecht", "gleichberechtigt", "benachteiligt", "bevorzugt", "diskriminiert", "gleich", "ungleich", "identisch", "verschieden", "ähnlich", "unähnlich", "vergleichbar", "unvergleichbar", "entsprechend", "abweichend", "übereinstimmend", "widersprüchlich", "einheitlich", "vielfältig", "uniform", "unterschiedlich", "homogen", "heterogen", "konstant", "variabel", "stabil", "instabil", "beständig", "unbeständig", "dauerhaft", "vergänglich", "permanent", "temporär", "ewig", "zeitlich", "endlos", "begrenzt", "unbegrenzt", "limitiert", "unlimitiert", "beschränkt", "unbeschränkt", "eingeschränkt", "uneingeschränkt", "frei", "unfrei", "offen", "geschlossen", "zugänglich", "unzugänglich", "verfügbar", "unverfügbar", "erhältlich", "unerhältlich", "vorhanden", "abwesend", "anwesend", "fehlend", "existent", "inexistent", "bestehend", "nicht bestehend", "lebend", "leblos", "belebt", "unbelebt", "bewusst", "unbewusst", "wach", "schlafend", "aufmerksam", "unaufmerksam", "konzentriert", "unkonzentriert", "fokussiert", "unfokussiert", "gerichtet", "ungerichtet", "orientiert", "desorientiert", "informiert", "uninformiert", "gebildet", "ungebildet", "ausgebildet", "unausgebildet", "qualifiziert", "unqualifiziert", "kompetent", "inkompetent", "fähig", "unfähig", "geschickt", "ungeschickt", "talentiert", "talentlos", "begabt", "unbegabt", "intelligent", "unintelligent", "klug", "dumm", "weise", "töricht", "vernünftig", "unvernünftig", "rational", "irrational", "logisch", "unlogisch", "sinnvoll", "sinnlos", "bedeutungsvoll", "bedeutungslos", "zweckmäßig", "zwecklos", "zielgerichtet", "ziellos", "planmäßig", "planlos", "systematisch", "unsystematisch", "methodisch", "unmethodisch", "organisiert", "unorganisiert", "geordnet", "ungeordnet", "strukturiert", "unstrukturiert", "diszipliniert", "undiszipliniert", "kontrolliert", "unkontrolliert", "beherrscht", "unbeherrscht", "ruhig", "wild", "zahm", "ungezähmt", "zivilisiert", "unzivilisiert", "kultiviert", "unkultiviert", "gebildet", "ungebildet", "entwickelt", "unterentwickelt", "fortgeschritten", "rückständig", "progressiv", "konservativ", "liberal", "autoritär", "demokratisch", "diktatorisch", "frei", "unterdrückt", "befreit", "gefangen", "entfesselt", "gefesselt", "losgelöst", "verbunden", "getrennt", "vereint", "isoliert", "integriert", "ausgeschlossen", "eingeschlossen", "ausgestoßen", "aufgenommen", "abgelehnt", "akzeptiert", "verworfen", "angenommen", "zurückgewiesen", "willkommen", "unerwünscht", "erwünscht", "gebeten", "ungebeten", "eingeladen", "ausgeladen", "zugelassen", "abgewiesen", "genehmigt", "verweigert", "erlaubt", "verboten", "gestattet", "untersagt", "berechtigt", "unberechtigt", "befugt", "unbefugt", "autorisiert", "unauthorisiert", "legitimiert", "illegitim", "legal", "illegal", "rechtmäßig", "unrechtmäßig", "gesetzlich", "gesetzwidrig", "ordnungsgemäß", "ordnungswidrig", "regelkonform", "regelwidrig", "normgerecht", "normwidrig", "standardgemäß", "nicht standardgemäß", "üblich", "unüblich", "gewöhnlich", "ungewöhnlich", "normal", "abnormal", "regulär", "irregulär", "typisch", "untypisch", "charakteristisch", "uncharakteristisch", "repräsentativ", "unrepräsentativ", "beispielhaft", "atypisch", "mustergültig", "mangelhaft", "vorbildlich", "tadelnswert", "lobenswert", "kritikwürdig", "anerkennenswert", "verachtenswert", "bewundernswert", "verachtungswürdig", "ehrenwert", "ehrlos", "würdig", "unwürdig", "würdevoll", "würdelos", "respektabel", "respektlos", "achtbar", "verächtlich", "anständig", "unanständig", "ehrenhaft", "unehrenhaft", "ehrlich", "unehrlich", "aufrichtig", "unaufrichtig", "redlich", "unredlich", "rechtschaffen", "unrechtschaffen", "integer", "korrupt", "sauber", "unsauber", "rein", "unrein", "makellos", "befleckt", "unschuldig", "schuldig", "schuldlos", "schuldhaft", "unverdächtig", "verdächtig", "arglos", "argwöhnisch", "harmlos", "gefährlich", "ungefährlich", "sicher", "unsicher", "gefahrlos", "riskant", "risikolos", "gewagt", "vorsichtig", "unvorsichtig", "behutsam", "unbehutsam", "achtsam", "unachtsam", "aufmerksam", "unaufmerksam", "wachsam", "unwachsam", "vigilant", "nachlässig", "sorgfältig", "sorglos", "gewissenhaft", "gewissenlos", "verantwortlich", "verantwortungslos", "pflichtbewusst", "pflichtlos", "zuverlässig", "unzuverlässig", "verlässlich", "unverlässlich", "vertrauenswürdig", "vertrauensunwürdig", "glaubwürdig", "unglaubwürdig", "authentisch", "unauthentisch", "echt", "unecht", "wahr", "unwahr", "wahrhaftig", "unwahrhaftig", "wahrheitsgemäß", "faktisch", "fiktiv", "real", "irreal", "realistisch", "unrealistisch", "wirklichkeitsnah", "wirklichkeitsfern", "lebensecht", "lebensfremd", "naturgetreu", "unnatürlich", "natürlich", "künstlich"]

  const portugueseWords = ["o", "a", "os", "as", "de", "da", "do", "das", "dos", "em", "na", "no", "nas", "nos", "para", "por", "com", "uma", "um", "que", "não", "se", "é", "são", "foi", "foram", "será", "serão", "tem", "têm", "tinha", "tinham", "terá", "terão", "está", "estão", "estava", "estavam", "estará", "estarão", "fazer", "faz", "fez", "fizeram", "fará", "farão", "dizer", "diz", "disse", "disseram", "dirá", "dirão", "ver", "vê", "viu", "viram", "verá", "verão", "dar", "dá", "deu", "deram", "dará", "darão", "ir", "vai", "foi", "foram", "irá", "irão", "vir", "vem", "veio", "vieram", "virá", "virão", "saber", "sabe", "soube", "souberam", "saberá", "saberão", "poder", "pode", "pôde", "puderam", "poderá", "poderão", "querer", "quer", "quis", "quiseram", "quererá", "quererão", "ficar", "fica", "ficou", "ficaram", "ficará", "ficarão", "ter", "tem", "teve", "tiveram", "terá", "terão", "estar", "está", "esteve", "estiveram", "estará", "estarão", "haver", "há", "houve", "houveram", "haverá", "haverão", "ser", "é", "foi", "foram", "será", "serão", "muito", "mais", "bem", "já", "ainda", "só", "também", "quando", "onde", "como", "porque", "para", "por", "com", "sem", "sobre", "entre", "até", "desde", "depois", "antes", "durante", "através", "mediante", "conforme", "segundo", "contra", "perante", "ante", "após", "sob", "sobre", "acima", "abaixo", "dentro", "fora", "perto", "longe", "aqui", "ali", "lá", "cá", "aí", "então", "agora", "hoje", "ontem", "amanhã", "sempre", "nunca", "jamais", "às vezes", "talvez", "certamente", "realmente", "verdadeiramente", "exatamente", "precisamente", "justamente", "somente", "apenas", "unicamente", "especialmente", "particularmente", "principalmente", "basicamente", "fundamentalmente", "essencialmente", "geralmente", "normalmente", "habitualmente", "frequentemente", "raramente", "ocasionalmente", "às vezes", "sempre", "nunca", "jamás", "ainda", "já", "apenas", "recém", "logo", "tarde", "cedo", "imediatamente", "rapidamente", "lentamente", "devagar", "depressa", "bem", "mal", "melhor", "pior", "assim", "tão", "tanto", "quanto", "mais", "menos", "muito", "pouco", "demais", "bastante", "suficiente", "quase", "completamente", "totalmente", "parcialmente", "meio", "metade", "inteiro", "completo", "incompleto", "cheio", "vazio", "pleno", "oco", "denso", "espesso", "fino", "delgado", "grosso", "largo", "estreito", "longo", "curto", "alto", "baixo", "profundo", "superficial", "fundo", "raso", "grande", "pequeno", "enorme", "gigante", "imenso", "diminuto", "minúsculo", "microscópico", "visível", "invisível", "claro", "escuro", "brilhante", "opaco", "luminoso", "sombrio", "colorido", "incolor", "branco", "preto", "cinza", "vermelho", "azul", "verde", "amarelo", "laranja", "violeta", "rosa", "marrom", "dourado", "prateado", "metálico", "fosco", "brilhoso", "rugoso", "liso", "áspero", "suave", "duro", "mole", "sólido", "líquido", "gasoso", "quente", "frio", "morno", "fresco", "gelado", "ardente", "úmido", "seco", "molhado", "encharcado", "limpo", "sujo", "puro", "impuro", "fresco", "rançoso", "novo", "usado", "velho", "antigo", "moderno", "atual", "contemporâneo", "passado", "presente", "futuro", "eterno", "temporal", "permanente", "transitório", "duradouro", "efêmero", "estável", "instável", "fixo", "móvel", "quieto", "imóvel", "ativo", "passivo", "dinâmico", "estático", "vivo", "morto", "animado", "inanimado", "orgânico", "inorgânico", "natural", "artificial", "real", "irreal", "verdadeiro", "falso", "autêntico", "genuíno", "original", "único", "especial", "comum", "ordinário", "extraordinário", "normal", "anormal", "regular", "irregular", "típico", "atípico", "habitual", "inusual", "frequente", "infrequente", "raro", "estranho", "curioso", "interessante", "chato", "divertido", "entretenido", "emocionante", "excitante", "tranquilo", "agitado", "calmo", "nervoso", "sereno", "inquieto", "pacífico", "violento", "agressivo", "paciente", "impaciente", "tolerante", "intolerante", "compreensivo", "incompreensivo", "amável", "cruel", "bondoso", "malvado", "generoso", "mesquinho", "egoísta", "altruísta", "honesto", "desonesto", "sincero", "falso", "leal", "desleal", "fiel", "infiel", "confiável", "inconfiável", "responsável", "irresponsável", "maduro", "imaturo", "sábio", "tolo", "inteligente", "estúpido", "esperto", "desajeitado", "hábil", "inábil", "capaz", "incapaz", "competente", "incompetente", "eficiente", "ineficiente", "produtivo", "improdutivo", "útil", "inútil", "prático", "impratico", "funcional", "disfuncional", "efetivo", "inefetivo", "bem-sucedido", "fracassado", "triunfante", "derrotado", "vencedor", "perdedor", "vitorioso", "vencido", "superior", "inferior", "melhor", "pior", "excelente", "péssimo", "bom", "mau", "perfeito", "imperfeito", "correto", "incorreto", "exato", "inexato", "preciso", "impreciso", "claro", "confuso", "óbvio", "oculto", "evidente", "duvidoso", "certo", "incerto", "seguro", "inseguro", "confiante", "desconfiado", "otimista", "pessimista", "positivo", "negativo", "alegre", "triste", "feliz", "infeliz", "contente", "descontente", "satisfeito", "insatisfeito", "orgulhoso", "envergonhado", "corajoso", "covarde", "audaz", "tímido", "atrevido", "prudente", "cuidadoso", "descuidado", "precavido", "imprudente", "cauteloso", "temerário", "conservador", "liberal", "tradicional", "progressista", "clássico", "moderno", "formal", "informal", "sério", "engraçado", "solene", "jovial", "grave", "leve", "pesado", "leve", "denso", "scarso", "abbondante", "ricco", "povero", "prospero", "misero", "fortunato", "sfortunato", "riuscito", "fallito", "famoso", "sconosciuto", "popolare", "impopolare", "amato", "odiato", "rispettato", "disprezzato", "ammirato", "criticato", "lodato", "censurato", "premiato", "punito", "ricompensato", "sanzionato", "libero", "prigioniero", "indipendente", "dipendente", "autonomo", "subordinato", "capo", "impiegato", "leader", "seguace", "dominante", "sottomesso", "potente", "debole", "forte", "fragile", "resistente", "vulnerabile", "protetto", "indifeso", "sicuro", "pericoloso", "rischioso", "cauto", "avventuroso", "esploratore", "scopritore", "inventore", "creatore", "distruttore", "costruttore", "edificatore", "riparatore", "guaritore", "salvatore", "redentore", "liberatore", "conquistatore", "vincitore", "campione", "eroe", "cattivo  "salvatore", "redentore", "liberatore", "conquistatore", "vincitore", "campione", "eroe", "cattivo", "santo", "peccatore", "angelo", "demonio", "dio", "mortale", "immortale", "eterno", "temporale", "infinito", "finito", "illimitato", "limitato", "assoluto", "relativo", "totale", "parziale", "completo", "incompleto", "intero", "frammentato", "unito",separato", "insieme", "apart", "vicino", "lontano", "prossimo", "distante", "immediato", "remoto", "diretto", "indiretto", "dritto", "curvo", "diritto", "storto", "verticale", "orizzontale", "diagonale", "parallelo", "perpendicolare", "simmetrico", "asimmetrico", "equilibrato", "squilibrato", "stabile", "instabile", "fermo", "immobile", "attivo", "passivo", "dinamico", "statico", "vivo", "morto", "animato", "inanimato", "organico", "inorganico", "naturale", "artificiale", "reale", "irreale", "vero", "falso", "autentico", "genuino", "originale", "unico", "speciale", "comune", "ordinario", "straordinario", "normale", "anormale", "regolare", "irregolare", "tipico", "atipico", "abituale", "insolito", "frequente", "infrequente", "raro", "strano", "curioso", "interessante", "noioso", "divertente", "divertente", "emozionante", "eccitante", "tranquillo", "agitato", "calmo", "nervoso", "sereno", "inquieto", "pacifico", "violento", "aggressivo", "paziente", "impaziente", "tollerante", "intollerante", "comprensivo", "incomprensivo", "gentile", "crudele", "buono", "cattivo", "generoso", "avaro", "egoista", "altruista", "onesto", "disonesto", "sincero", "falso", "leale", "sleale", "fedele", "infedele", "affidabile", "inaffidabile", "responsabile", "irresponsabile", "maturo", "immaturo", "saggio", "sciocco", "intelligente", "stupido", "furbo", "goffo", "abile", "inabile", "capace", "incapace", "competente", "incompetente", "efficiente", "inefficiente", "produttivo", "improduttivo", "utile", "inutile", "pratico", "impratico", "funzionale", "disfunzionale", "efficace", "inefficace", "riuscito", "fallito", "trionfante", "sconfitto", "vincente", "perdente", "vittorioso", "vinto", "superiore", "inferiore", "migliore", "peggiore", "eccellente", "pessimo", "buono", "cattivo", "perfetto", "imperfetto", "corretto", "scorretto", "esatto", "inesatto", "preciso", "impreciso", "chiaro", "confuso", "ovvio", "nascosto", "evidente", "dubbioso", "certo", "incerto", "sicuro", "insicuro", "fiducioso", "diffidente", "ottimista", "pessimista", "positivo", "negativo", "allegro", "triste", "felice", "infelice", "contento", "scontento", "soddisfatto", "insoddisfatto", "orgoglioso", "vergognoso", "coraggioso", "codardo", "audace", "timido", "ardito", "prudente", "attento", "disattento", "precauto", "imprudente", "cauto", "temerario", "conservatore", "liberale", "tradizionale", "progressista", "classico", "moderno", "formale", "informale", "serio", "divertente", "solenne", "gioviale", "grave", "leggero", "pesante", "leggero", "denso", "scarso", "abbondante", "ricco", "povero", "prospero", "misero",fortunato", "sfortunato", "riuscito", "fallito", "famoso", "sconosciuto", "popolare", "impopolare", "amato", "odiato", "rispettato", "disprezzato", "ammirato", "criticato", "lodato", "censurato", "premiato", "punito", "ricompensato", "sanzionato", "libero", "prigioniero", "indipendente", "dipendente", "autonomo", "subordinato", "capo", "impiegato", "leader", "seguace", "dominante", "sottomesso", "potente", "debole", "forte", "fragile", "resistente", "vulnerabile", "protetto", "indifeso", "sicuro", "pericoloso", "rischioso", "cauto", "avventuroso", "esploratore", "scopritore", "inventore", "creatore", "distruttore", "costruttore", "edificatore", "riparatore", "guaritore", "salvatore", "redentore", "liberatore", "conquistatore", "vincitore", "campione", "eroe", "cattivo", "santo", "peccatore", "angelo", "demonio", "dio", "mortale", "immortale", "eterno", "temporale", "infinito", "finito", "illimitato", "limitato", "assoluto", "relativo", "totale", "parziale",completo", "incompleto", "intero", "frammentato", "unito", "separato", "insieme", "apart", "vicino", "lontano", "prossimo", "distante", "immediato", "remoto", "diretto", "indiretto", "dritto", "curvo", "diritto", "storto", "verticale", "orizzontale", "diagonale", "parallelo", "perpendicolare", "simmetrico", "asimmetrico", "equilibrato", "squilibrato", "stabile", "instabile", "fermo", "immobile", "attivo", "passivo", "dinamico", "statico", "vivo", "morto", "animato", "inanimato", "organico", "inorganico", "naturale", "artificiale", "reale", "immaginario", "vero", "fittizio", "autentico", "falso", "genuino", "artificiale", "naturale", "sintetico", "organico", "inorganico", "vivo", "inerte", "animato", "inanimato", "conscio", "inconscio", "sveglio", "addormentato", "alerta", "adormecido", "vigilante", "disattento", "attento", "distratto", "concentrato", "disperso", "focalizzato", "sfocato", "centrato", "decentrato", "orientato", "disorientato", "dirigido", "perdido", "guiado", "extraviado", "encaminhado", "desencaminhado", "acertado", "equivocado", "correto", "incorreto", "exato", "inexato", "preciso", "impreciso", "pontual", "impontual", "oportuno", "inoportuno", "apropriado", "inapropriado", "adequado", "inadequado", "conveniente", "inconveniente", "pertinente", "impertinente", "relevante", "irrelevante", "importante", "insignificante", "transcendente", "intrascendente", "significativo", "insignificativo", "valioso", "inválido", "útil", "inútil", "proveitoso", "improdutivo", "benéfico", "prejudicial", "favorável", "desfavorável", "positivo", "negativo", "construtivo", "destrutivo", "criativo", "destrutivo", "inovador", "conservador", "progressista", "retrógrado", "avançado", "atrasado", "moderno", "antiquado", "atual", "obsoleto", "contemporâneo", "arcaico", "novo", "velho", "fresco", "rançoso", "recente", "antigo", "novato", "veterano", "jovem", "ancião", "juvenil", "senil", "imaturo", "maduro", "verde", "maduro", "cru", "cozido", "tenro", "duro", "mole", "rígido", "flexível", "elástico", "quebradiço", "resistente", "frágil", "sólido", "líquido", "gasoso", "denso", "leve", "pesante", "leve", "espesso", "fino", "grosso", "delgado", "largo", "estreito", "gordo", "magro", "obeso", "magro", "corpulento", "esbelto", "robusto", "franzino", "fornido", "raquítico", "musculoso", "fraquinho", "atlético", "sedentário", "esportivo", "preguiçoso", "ativo", "passivo", "dinâmico", "estático", "móvel", "imóvel", "ágil", "desajeitado", "hábil", "inábil", "destro", "canhoto", "ambidestro", "manco", "completo", "incompleto", "inteiro", "partido", "íntegro", "fragmentado", "total", "parcial", "absoluto", "relativo", "perfeito", "imperfeito", "ideal", "real", "teórico", "prático", "hipotético", "factual", "possível", "impossível", "provável", "improvável", "factível", "infactível", "viável", "inviável", "realizável", "irrealizável", "alcançável", "inalcançável", "acessível", "inacessível", "disponível", "indisponível", "livre", "ocupado", "desocupado", "vago", "cheio", "vazio", "repleto", "oco", "lotado", "despovoado", "povoado", "habitado", "desabitado", "movimentado", "deserto", "animado", "solitário", "barulhento", "silencioso", "ruidoso", "tranquilo", "agitado", "calmo", "turbulento", "sereno", "tempestuoso", "pacífico", "violento", "manso", "feroz", "dócil", "selvagem", "doméstico", "silvestre", "domesticado", "asselvajado", "civilizado", "bárbaro", "culto", "inculto", "educado", "mal-educado", "cortês", "descortês", "amável", "grosseiro", "gentil", "rude", "delicado", "brusco", "suave", "áspero", "terno", "duro", "carinhoso", "frio", "afetuoso", "indiferente", "amoroso", "odioso", "querido", "aborrecido", "adorado", "detestado", "amado", "odiato", "apreciado", "desprezado", "estimado", "menosprezado", "valorizado", "desvalorizado", "respeitado", "desrespeitado", "venerado", "profanado", "honrado", "desonrado", "dignificado", "humilhado", "enaltecido", "rebaixado", "elevado", "degradado", "promovido", "destituído", "ascendido", "descendido", "subido", "baixado", "melhorado", "piorado", "aperfeiçoado", "deteriorado", "refinado", "tosco", "polido", "rugoso", "liso", "áspero", "terso", "escabroso", "uniforme", "irregular", "parelho", "desparelho", "nivelado", "desnível", "equilibrado", "desequilibrado", "balanceado", "desbalanceado", "estável", "instável", "firme", "vacilante", "seguro", "inseguro", "confiável", "inconfiável", "fidedigno", "pouco fidedigno", "crível", "incrível", "verossímil", "inverossímil"]

  const italianWords = ["il", "la", "di", "che", "e", "è", "un", "a", "in", "per", "una", "sono", "mi", "ho", "lo", "ma", "se", "con", "tutto", "anche", "loro", "più", "molto", "cosa", "suo", "lui", "bene", "dove", "quando", "come", "tempo", "non", "ci", "senza", "mentre", "altro", "quale", "grande", "stesso", "ogni", "tanto", "fatto", "essere", "fare", "dire", "andare", "vedere", "sapere", "dare", "stare", "venire", "dovere", "volere", "potere", "prima", "dopo", "ancora", "qui", "sempre", "mai", "oggi", "ieri", "domani", "casa", "vita", "mondo", "paese", "parte", "anno", "giorno", "mano", "occhio", "uomo", "donna", "bambino", "ragazzo", "ragazza", "famiglia", "amico", "amore", "lavoro", "scuola", "università", "libro", "film", "musica", "arte", "sport", "gioco", "cibo", "acqua", "sole", "luna", "cielo", "terra", "mare", "montagna", "città", "strada", "macchina", "treno", "aereo", "telefono", "computer", "internet", "televisione", "radio", "giornale", "lettera", "parola", "lingua", "cultura", "storia", "politica", "economia", "società", "religione", "filosofia", "scienza", "medicina", "natura", "ambiente", "problema", "soluzione", "idea", "pensiero", "sentimento", "emozione", "felicità", "tristezza", "paura", "speranza", "sogno", "realtà", "verità", "bugia", "bene", "male", "giusto", "sbagliato", "vero", "falso", "bello", "brutto", "grande", "piccolo", "nuovo", "vecchio", "giovane", "anziano", "ricco", "povero", "forte", "debole", "veloce", "lento", "facile", "difficile", "possibile", "impossibile", "importante", "normale", "speciale", "diverso", "uguale", "sicuro", "pericoloso", "libero", "occupato", "aperto", "chiuso", "pieno", "vuoto", "caldo", "freddo", "secco", "bagnato", "pulito", "sporco", "dolce", "amaro", "salato", "piccante", "buono", "cattivo", "fresco", "stantio", "crudo", "cotto", "duro", "morbido", "liscio", "ruvido", "largo", "stretto", "lungo", "corto", "alto", "basso", "profondo", "superficiale", "pesante", "leggero", "denso", "rado", "spesso", "sottile", "grasso", "magro", "grosso", "fino", "chiaro", "scuro", "luminoso", "buio", "colorato", "incolore", "bianco", "nero", "grigio", "rosso", "blu", "verde", "giallo", "arancione", "viola", "rosa", "marrone", "dorato", "argentato", "metallico", "opaco", "brillante", "liscio", "rugoso", "morbido", "duro", "solido", "liquido", "gassoso", "caldo", "freddo", "tiepido", "fresco", "gelato", "bollente", "umido", "secco", "bagnato", "fradicio", "pulito", "sporco", "puro", "impuro", "fresco", "marcio", "nuovo", "usato", "vecchio", "antico", "moderno", "attuale", "contemporaneo", "passato", "presente", "futuro", "eterno", "temporale", "permanente", "temporaneo", "duraturo", "effimero", "stabile", "instabile", "fisso", "mobile", "fermo", "immobile", "attivo", "passivo", "dinamico", "statico", "vivo", "morto", "animato", "inanimato", "organico", "inorganico", "naturale", "artificiale", "reale", "irreale", "vero", "falso", "autentico", "genuino", "originale", "unico", "speciale", "comune", "ordinario", "straordinario", "normale", "anormale", "regolare", "irregolare", "tipico", "atipico", "abituale", "insolito", "frequente", "infrequente", "raro", "strano", "curioso", "interessante", "noioso", "divertente", "divertente", "emozionante", "eccitante", "tranquillo", "agitato", "calmo", "nervoso", "sereno", "inquieto", "pacifico", "violento", "aggressivo", "paziente", "impaziente", "tollerante", "intollerante", "comprensivo", "incomprensivo", "gentile", "crudele", "buono", "cattivo", "generoso", "avaro", "egoista", "altruista", "onesto", "disonesto", "sincero", "falso", "leale", "sleale", "fedele", "infedele", "affidabile", "inaffidabile", "responsabile", "irresponsabile", "maturo", "immaturo", "saggio", "sciocco", "intelligente", "stupido", "furbo", "goffo", "abile", "inabile", "capace", "incapace", "competente", "incompetente", "efficiente", "inefficiente", "produttivo", "improduttivo", "utile", "inutile", "pratico", "impratico", "funzionale", "disfunzionale", "efficace", "inefficace", "riuscito", "fallito", "trionfante", "sconfitto", "vincente", "perdente", "vittorioso", "vinto", "superiore", "inferiore", "migliore", "peggiore", "eccellente", "pessimo", "buono", "cattivo", "perfetto", "imperfetto", "corretto", "scorretto", "esatto", "inesatto", "preciso", "impreciso", "chiaro", "confuso", "ovvio", "nascosto", "evidente", "dubbioso", "certo", "incerto", "sicuro", "insicuro", "fiducioso", "diffidente", "ottimista", "pessimista", "positivo", "negativo", "allegro", "triste", "felice", "infelice", "contento", "scontento", "soddisfatto", "insoddisfatto", "orgoglioso", "vergognoso", "coraggioso", "codardo", "audace", "timido", "ardito", "prudente", "attento", "disattento", "precauto", "imprudente", "cauto", "temerario", "conservatore", "liberale", "tradizionale", "progressista", "classico", "moderno", "formale", "informale", "serio", "divertente", "solenne", "gioviale", "grave", "leggero", "pesante", "leggero", "denso", "scarso", "abbondante", "ricco", "povero", "prospero", "misero",fortunato", "sfortunato", "riuscito", "fallito", "famoso", "sconosciuto", "popolare", "impopolare", "amato", "odiato", "rispettato", "disprezzato", "ammirato", "criticato", "lodato", "censurato", "premiato", "punito", "ricompensato", "sanzionato", "libero", "prigioniero", "indipendente", "dipendente", "autonomo", "subordinato", "capo", "impiegato", "leader", "seguace", "dominante", "sottomesso", "potente", "debole", "forte", "fragile", "resistente", "vulnerabile", "protetto", "indifeso", "sicuro", "pericoloso", "rischioso", "cauto", "avventuroso", "esploratore", "scopritore", "inventore", "creatore", "distruttore", "costruttore", "edificatore", "riparatore", "guaritore", "salvatore", "redentore", "liberatore", "conquistatore", "vincitore", "campione", "eroe", "cattivo", "santo", "peccatore", "angelo", "demonio", "dio", "mortale", "immortale", "eterno", "temporale", "infinito", "finito", "illimitato", "limitato", "immenso", "ridotto", "vasto", "stretto", "ampio", "angusto", "esteso", "curto", "lungo", "breve", "prolungato", "fugace", "dilatato", "compresso", "espanso", "contratto", "allungato", "accorciato", "allargato", "ristretto", "ingrandito", "rimpicciolito", "aumentato", "diminuito", "incrementato", "decrementato", "elevato", "abbassato", "salito", "sceso", "alzato", "caduto", "eretto", "prostrato", "verticale", "orizzontale", "inclinato", "dritto", "storto", "diritto", "curvo", "lineare", "circolare", "angolare", "rotondo", "quadrato", "triangolare", "rettangolare", "ovale", "sferico", "cubico", "cilindrico", "conico", "piramidale", "plano", "tridimensionale", "bidimensionale", "unidimensionale", "spaziale", "temporale", "fisico", "mentale", "materiale", "spirituale", "corporale", "animico", "tangibile", "intangibile", "concreto", "astratto", "reale", "immaginario", "verdadeiro", "fictício", "autêntico", "falso", "genuíno", "artificiale", "naturale", "sintetico", "orgânico", "inorgânico", "vivo", "inerte", "animato", "inanimado", "consciente", "inconsciente", "acordado", "dormindo", "alerta", "adormecido", "vigilante", "descuidado", "atento", "distraído", "concentrado", "disperso", "focado", "desfocado", "centrado", "descentrado", "orientado", "desorientado", "dirigido", "perdido", "guiado", "extraviado", "encaminhado", "desencaminhado", "acertado", "equivocado", "correto", "incorreto", "exato", "inexato", "preciso", "impreciso", "pontual", "impontual", "oportuno", "inoportuno", "apropriado", "inapropriado", "adequado", "inadequado", "conveniente", "inconveniente", "pertinente", "impertinente", "relevante", "irrelevante", "importante", "insignificante", "transcendente", "intrascendente", "significativo", "insignificativo", "valioso", "inválido", "útil", "inútil", "proveitoso", "improdutivo", "benéfico", "prejudicial", "favorável", "desfavorável", "positivo", "negativo", "construtivo", "destrutivo", "criativo", "destrutivo", "inovador", "conservador", "progressista", "retrógrado", "avançado", "atrasado", "moderno", "antiquado", "atual", "obsoleto", "contemporâneo", "arcaico", "novo", "velho", "fresco", "rançoso", "recente", "antigo", "novato", "veterano", "jovem", "ancião", "juvenil", "senil", "imaturo", "maduro", "verde", "maduro", "cru", "cozido", "tenro", "duro", "mole", "rígido", "flexível", "elástico", "quebradiço", "resistente", "fragile", "sólido", "líquido", "gasoso", "denso", "leve", "pesante", "leve", "espesso", "fino", "grosso", "delgado", "largo", "estreito", "gordo", "magro", "obeso", "magro", "corpulento", "esbelto", "robusto", "franzino", "fornido", "raquítico", "musculoso", "fraquinho", "atlético", "sedentário", "esportivo", "preguiçoso", "ativo", "passivo", "dinâmico", "estático", "móvel", "imóvel", "ágil", "desajeitado", "hábil", "inábil", "destro", "canhoto", "ambidestro", "manco", "completo", "incompleto", "inteiro", "partido", "íntegro", "fragmentado", "total", "parcial", "assoluto", "relativo", "perfeito", "imperfeito", "ideal", "reale", "teórico", "prático", "hipotético", "factual", "possível", "impossível", "provável", "improvável", "factível", "infactível", "viável", "inviável", "realizável", "irrealizável", "alcançável", "inalcançável", "acessível", "inacessível", "disponível", "indisponível", "livre", "ocupado", "desocupado", "vago", "cheio", "vazio", "repleto", "oco", "lotado", "despovoado", "povoado", "habitado", "desabitado", "movimentado", "deserto", "animado", "solitário", "barulhento", "silencioso", "ruidoso", "tranquilo", "agitado", "calmo", "turbulento", "sereno", "tempestuoso", "pacífico", "violento", "manso", "feroz", "dócil", "selvagem", "doméstico", "silvestre", "domesticado", "asselvajado", "civilizado", "bárbaro", "culto", "inculto", "educado", "mal-educado", "cortês", "descortês", "amável", "grosseiro", "gentil", "rude", "delicado", "brusco", "suave", "áspero", "terno", "duro", "carinhoso", "frio", "afetuoso", "indiferente", "amoroso", "odioso", "querido", "aborrecido", "adorado", "detestado", "amado", "odiato", "apreciado", "desprezado", "estimado", "menosprezado", "valorizado", "desvalorizado", "respeitado", "desrespeitado", "venerado", "profanado", "honrado", "desonrado", "dignificado", "humilhado", "enaltecido", "rebaixado", "elevado", "degradado", "promovido", "destituído", "ascendido", "descendido", "subido", "baixado", "melhorado", "piorado", "aperfeiçoado", "deteriorado", "raffinato", "rozzo", "polido", "rugoso", "liso", "áspero", "terso", "escabroso", "uniforme", "irregular", "parelho", "desparelho", "nivelado", "desnível", "equilibrado", "desequilibrado", "balanceado", "desbalanceado", "estável", "instável", "firme", "vacilante", "seguro", "inseguro", "confiável", "inconfiável", "fidedigno", "pouco fidedigno", "crível", "incrível", "verossímil", "inverossímil"]

  // Portuguese detection (similar to Spanish but with specific patterns)
  const portugueseMatches = portugueseWords.filter((word) => cleanText.includes(word)).length
  if (portugueseMatches > 5) return "pt"

  // Check for Italian words
  const italianMatches = italianWords.filter((word) => cleanText.includes(word)).length
  if (italianMatches > 5) return "it"

  // Check for Spanish words
  const spanishMatches = spanishWords.filter((word) => cleanText.includes(word)).length

  // Check for French words
  const frenchMatches = frenchWords.filter((word) => cleanText.includes(word)).length

  // Check for German words
  const germanMatches = germanWords.filter((word) => cleanText.includes(word)).length

  // Determine the language with the highest match count
  if (spanishMatches > frenchMatches && spanishMatches > germanMatches && spanishMatches > italianMatches) {
    return "es"
  }

  if (frenchMatches > spanishMatches && frenchMatches > germanMatches && frenchMatches > italianMatches) {
    return "fr"
  }

  if (germanMatches > spanishMatches && germanMatches > frenchMatches && germanMatches > italianMatches) {
    return "de"
  }

  if (italianMatches > spanishMatches && italianMatches > frenchMatches && italianMatches > germanMatches) {
    return "it"
  }

  // Default to English if no other language is detected
  return "en"
}

export async function POST(request: NextRequest) {
  try {
    const { text } = await request.json()

    if (!text || typeof text !== "string") {
      return NextResponse.json({ error: "Text is required and must be a string" }, { status: 400 })
    }

    const detectedLanguage = detectLanguage(text)

    return NextResponse.json({
      language: detectedLanguage,
      confidence: 0.8, // Simple confidence score
    })
  } catch (error) {
    console.error("Language detection error:", error)
    return NextResponse.json({ error: "Failed to detect language" }, { status: 500 })
  }
}
